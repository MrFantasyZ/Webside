# 奇幻世界 VIP 浏览器插件

## 功能说明

这是奇幻世界网站的 VIP 会员插件，安装后可以：

✅ 查看高清封面图
✅ 访问专属内封面
✅ 下载高清加长版视频（V2.zip）
✅ 自动识别 VIP 身份，无需手动操作

## 安全机制

- 使用 JWT（JSON Web Token）加密验证
- HMAC-SHA256 签名算法
- Token 自动过期机制（30天）
- 动态生成唯一用户 ID
- 防重放攻击（JWT ID）

## 安装方法

### Chrome 浏览器

1. 打开 Chrome 浏览器
2. 在地址栏输入：`chrome://extensions/`
3. 打开右上角的 **"开发者模式"**
4. 点击 **"加载已解压的扩展程序"**
5. 选择 `VIP` 文件夹
6. 安装完成！

### 验证安装

1. 点击浏览器工具栏的拼图图标
2. 找到 "奇幻世界 VIP" 插件
3. 点击插件图标，查看 VIP 状态
4. 看到 "✓ VIP 已激活" 即表示安装成功

## 使用说明

**无需任何操作！**

插件安装后会自动工作：
- 访问奇幻世界网站时自动添加 VIP 标识
- 自动显示高清封面和内容
- 下载视频时自动获取高清版本

## 技术细节

### Token 生成

插件会在安装时自动生成一个加密的 VIP Token，包含：
- 唯一用户 ID
- VIP 角色标识
- 签发时间戳
- 过期时间戳
- 防重放 ID

### 请求修改

所有发往奇幻世界网站的请求会自动添加以下 Header：
- `X-VIP-Token`: JWT 加密 token
- `X-Client-Version`: 客户端版本标识

### Token 有效期

- 默认有效期：30天
- 自动续期：接近过期时可点击 "刷新 Token" 续期
- 过期提醒：剩余 7 天时会显示黄色警告

## 文件说明

```
VIP/
├── manifest.json       # Chrome 扩展清单
├── background.js       # 后台服务脚本
├── crypto-utils.js     # 加密工具函数
├── popup.html          # 弹出窗口 UI
├── popup.js            # 弹出窗口逻辑
├── icon16.png          # 16x16 图标
├── icon48.png          # 48x48 图标
├── icon128.png         # 128x128 图标
└── README.md           # 说明文档
```

## 故障排除

### 插件未生效？

1. 确认插件已启用（chrome://extensions/）
2. 刷新网页
3. 打开浏览器控制台，查看是否有错误信息

### Token 过期？

1. 点击插件图标
2. 点击 "刷新 Token" 按钮
3. 刷新网页

### 看不到 VIP 内容？

1. 确认已登录网站
2. 确认插件图标显示 "✓ VIP 已激活"
3. 清除浏览器缓存后重试
4. 检查网络请求是否包含 `X-VIP-Token` header

## 安全提示

⚠️ **重要：**
- 请勿分享您的 Token 给他人
- 请勿在不信任的计算机上安装此插件
- Token 包含您的 VIP 身份信息

## 版本历史

### v1.0.0 (2026-01-04)
- 初始版本
- JWT Token 验证
- 自动请求修改
- VIP 状态显示
